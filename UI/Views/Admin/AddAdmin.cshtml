@model IEnumerable<ApplicationUser>

@{
    ViewData["Title"] = "Add admin";
}

<div class="container mt-5">
    @if (Model?.Count() > 0)
    {
        <partial name="_AlertsPartial" />
        <form method="post" asp-controller="Admin" asp-action="AddAdmin">
            <div class="form-outline mb-3">
                <input id="userId" name="userId" type="hidden" required />
                <input id="email" type="email" class="form-control" list="users" autocomplete="off" onchange="setUserId()" />
                <datalist id="users">
                    @foreach (var user in Model)
                    {
                        <option value="@user.Email" data-userid="@user.Id">@user.Email</option>
                    }
                </datalist>
            </div>

            <a class="btn btn-sm btn-danger" asp-controller="Admin" asp-action="Admins">Cancel</a>
            <button type="submit" class="btn btn-sm btn-success">Add</button>
        </form>

    }
    else
    {
        <div class="alert alert-danger">No users</div>
        <a class="btn btn-sm btn-danger" asp-controller="Admin" asp-action="Admins">Cancel</a>
    }
</div>

@section Scripts{
    <partial name="_ValidationScriptsPartial" />
    <script src="~/js/Admin/adminAdd.js"></script>
        }